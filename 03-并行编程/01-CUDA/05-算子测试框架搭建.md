# 算子测试框架搭建

## pytorch库函数的实现逻辑

> - 用户在python端调用库函数（torch.softmax）；
> - pytorch内部编写一个底层核函数（softmaxKernel），并且提前编译为动态库；
> - pytorch根据用户这边的指令寻找动态库调用底层核函数；


## pybind11的使用

1. softmax.cu文件需要添加一个接口来接受python端的numpy或者tensor；
2. setup.py需要针对.cu文件进行编译得到动态库；
3. test_softmax.py需要调用动态库对kernel进行性能和精度测试；

## CMake的使用

- CMake可以使用正则表达式来索引全部源文件；
- CMake可以使用开关来控制不同平台的编译测试；
- CMake的编译速度更具有优势；

